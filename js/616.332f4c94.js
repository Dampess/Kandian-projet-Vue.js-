"use strict";(self["webpackChunkclone_streaming"]=self["webpackChunkclone_streaming"]||[]).push([[616],{4616:function(e,s,l){l.r(s),l.d(s,{default:function(){return b}});var n=l(6768),t=l(4232),r=l(5130);const i={class:"mt-6 w-11/12 mx-auto"},o={class:"flex flex-row"},a=(0,n.Lk)("h1",{class:"text-4xl font-bold mb-6 ml-4"},"Séries",-1),c={class:"genre-menu ml-4 mt-4 mb-6 w-90 h-full text-black"},d=["value"],u={class:"grid grid-cols-1 gap-4"},g={class:"text-2xl text-gray-900 font-semibold mb-4 ml-8 text-gray-900"},h=["src","alt","onClick"];function m(e,s,l,m,p,k){const f=(0,n.g2)("SkeletonLoader"),S=(0,n.g2)("TheModal");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(f,{loading:p.loading},null,8,["loading"]),(0,n.Lk)("div",o,[a,(0,n.Lk)("div",c,[(0,n.bo)((0,n.Lk)("select",{class:"bg-gray-200 opacity-50 rounded-l-full rounded-r-full w-8/12 mt-2",id:"genreSelect","onUpdate:modelValue":s[0]||(s[0]=e=>p.selectedGenre=e)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.genres,((e,s)=>((0,n.uX)(),(0,n.CE)("option",{key:s,value:e.id},(0,t.v_)(e.name),9,d)))),128))],512),[[r.u1,p.selectedGenre]])])]),(0,n.Lk)("ul",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.genres,((e,s)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("li",{key:s,class:"mb-8"},[(0,n.Lk)("h2",g,(0,t.v_)(e.name),1),(0,n.Lk)("ul",{class:(0,t.C4)(["grid grid-cols-4 gap-2 ml-1 mr-1",{"grid-cols-2":p.isSmallScreen}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.filteredSeries(e.series),(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"flex flex-col items-center rounded-lg shadow-lg p-2 hover:bg-gray-500 transition duration-300 ease-in-out relative"},[(0,n.Lk)("img",{src:"https://image.tmdb.org/t/p/w500/"+e.backdrop_path,alt:e.name,class:"series-poster rounded-lg cursor-pointer",onClick:s=>k.showSeriesDetails(e)},null,8,h)])))),128))],2)])),[[r.aG,p.selectedGenre===e.id]]))),128))]),p.selectedSeries?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-overlay",onClick:s[2]||(s[2]=(...e)=>k.closeModal&&k.closeModal(...e))},[(0,n.Lk)("div",{class:"modal-content",onClick:s[1]||(s[1]=(0,r.D$)((()=>{}),["stop"]))},[(0,n.bF)(S,{series:p.selectedSeries,isModalOpen:p.isModalOpen,onClose:k.closeModal},null,8,["series","isModalOpen","onClose"])])])):(0,n.Q3)("",!0)])}l(4114);var p=l(4534),k=l(8808),f={components:{TheModal:p.A,SkeletonLoader:k.A},data(){return{genres:[],selectedGenre:null,selectedSeries:null,isModalOpen:!1,isSmallScreen:!1,loading:!0}},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},async mounted(){this.fetchGenres(),this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},methods:{async fetchGenres(){try{const e="",s=await fetch(`https://api.themoviedb.org/3/genre/tv/list?api_key=${e}&language=fr`),l=await s.json();if(l.genres&&l.genres.length>0){for(const s of l.genres){const l=await fetch(`https://api.themoviedb.org/3/discover/tv?api_key=${e}&language=fr&with_genres=${s.id}`),n=await l.json();this.genres.push({id:s.id,name:s.name,series:n.results})}this.genres.length>0&&(this.selectedGenre=this.genres[0].id),this.loading=!1}}catch(e){console.error("Erreur lors de la récupération des genres et des séries associées :",e)}},showSeriesDetails(e){this.selectedSeries=e,this.isModalOpen=!0},closeModal(){this.selectedSeries=null,this.isModalOpen=!1},filteredSeries(e){return e.filter((e=>e.backdrop_path))},checkScreenSize(){this.isSmallScreen=window.innerWidth<=763}}},S=l(1241);const v=(0,S.A)(f,[["render",m]]);var b=v}}]);
//# sourceMappingURL=616.332f4c94.js.map