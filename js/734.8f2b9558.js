"use strict";(self["webpackChunkclone_streaming"]=self["webpackChunkclone_streaming"]||[]).push([[734],{870:function(e,t,s){s.d(t,{A:function(){return u}});var a=s(6768);const l={key:0,class:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-gray-800 bg-opacity-90 flex flex-col z-50"},r=(0,a.Fv)('<div class="w-32 h-32 relative center" data-v-27b73250><div class="personnage" data-v-27b73250><div class="corps" data-v-27b73250></div><div class="jambe jambe-gauche" data-v-27b73250></div><div class="jambe jambe-droite" data-v-27b73250></div></div></div><p class="text-gray-600 text-lg mt-4" data-v-27b73250>Chargement en cours...</p>',2),i=[r];function o(e,t,s,r,o,n){return s.loading?((0,a.uX)(),(0,a.CE)("div",l,i)):(0,a.Q3)("",!0)}var n={name:"SkeletonLoader",props:{loading:{type:Boolean,required:!0}}},c=s(1241);const d=(0,c.A)(n,[["render",o],["__scopeId","data-v-27b73250"]]);var u=d},7734:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var a=s(6768),l=s(4232);const r={class:"text-3xl font-bold mb-8"},i={class:"w-full text-center"},o={class:"flex justify-center items-center"},n=["src","alt","onClick"],c={class:"mt-4"},d={class:"text-lg font-semibold"},u={class:"text-gray-500"};function h(e,t,s,h,v,f){const g=(0,a.g2)("SkeletonLoader"),m=(0,a.g2)("TheModal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(g,{loading:v.loading},null,8,["loading"]),(0,a.Lk)("h1",r,'Résultats de la recherche pour "'+(0,l.v_)(e.$route.query.q)+'"',1),(0,a.Lk)("ul",{class:(0,l.C4)(["affichage grid grid-cols-5 gap-2 ml-1 mr-1",{"grid-cols-2":v.isSmallScreen}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(f.filteredResults,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex flex-col items-center p-4 rounded-md shadow-md transition duration-300 hover:shadow-lg"},[(0,a.Lk)("div",i,[(0,a.Lk)("div",o,[(0,a.Lk)("img",{src:"https://image.tmdb.org/t/p/w500/"+e.poster_path,alt:e.title,class:"w-full max-h-400 object-cover rounded-md cursor-pointer",onClick:t=>f.showMovieDetails(e)},null,8,n)]),(0,a.Lk)("div",c,[(0,a.Lk)("h2",d,(0,l.v_)(e.title),1),(0,a.Lk)("p",u,(0,l.v_)(f.getReleaseYear(e.release_date)),1)])])])))),128))],2),(0,a.bF)(m,{movie:v.selectedMovie,isModalOpen:v.isModalOpen,onClose:f.closeModal},null,8,["movie","isModalOpen","onClose"])])}var v=s(943),f=s(870),g={components:{TheModal:v.A,SkeletonLoader:f.A},data(){return{searchResults:[],selectedMovie:null,isModalOpen:!1,isSmallScreen:!1,loading:!0}},async mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},created(){this.fetchSearchResults(this.$route.query.q)},watch:{$route(){this.fetchSearchResults(this.$route.query.q)}},computed:{filteredResults(){return this.searchResults.filter((e=>e.poster_path))}},methods:{async fetchSearchResults(e){try{const t="3a18f97e67628cff439f21ac383dd600",s=`https://api.themoviedb.org/3/search/movie?api_key=${t}&language=fr&query=${e}`,a=await fetch(s),l=await a.json();l.results&&l.results.length>0?this.searchResults=l.results:this.searchResults=[]}catch(t){console.error("Erreur lors de la récupération des résultats de recherche :",t),this.searchResults=[]}this.loading=!1},getReleaseYear(e){return e?e.substring(0,4):"Date de sortie inconnue"},showMovieDetails(e){this.selectedMovie=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},checkScreenSize(){this.isSmallScreen=window.innerWidth<=763}}},m=s(1241);const p=(0,m.A)(g,[["render",h]]);var b=p}}]);
//# sourceMappingURL=734.8f2b9558.js.map