{"version":3,"file":"js/886.9fbc4f82.js","mappings":"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","sources":["webpack://clone-streaming/./src/components/SkeletonLoader.vue","webpack://clone-streaming/./src/components/SkeletonLoader.vue?1835","webpack://clone-streaming/./src/views/FilmsAffichage.vue","webpack://clone-streaming/./src/views/FilmsAffichage.vue?4793"],"sourcesContent":["<template>\n  <div v-if=\"loading\" class=\"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-gray-800 bg-opacity-90 flex flex-col z-50\">\n    <div class=\"w-32 h-32 relative center\">\n      <div class=\"personnage\">\n        <div class=\"corps\"></div>\n        <div class=\"jambe jambe-gauche\"></div>\n        <div class=\"jambe jambe-droite\"></div>\n      </div>\n    </div>\n    <!-- Ajoutez du texte pour indiquer que le chargement est en cours -->\n    <p class=\"text-gray-600 text-lg mt-4\">Chargement en cours...</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SkeletonLoader',\n  props: {\n    loading: {\n      type: Boolean,\n      required: true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.personnage {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.corps {\n  width: 20px;\n  height: 30px;\n  background-color: #000;\n  border-radius: 10px 10px 0 0;\n}\n\n.jambe {\n  width: 6px;\n  height: 20px;\n  background-color: #000;\n  position: absolute;\n  bottom: 0;\n}\n\n.jambe-gauche {\n  left: -8px;\n  transform-origin: bottom;\n  animation: marche-gauche 0.5s infinite alternate;\n}\n\n.jambe-droite {\n  right: -8px;\n  transform-origin: bottom;\n  animation: marche-droite 0.5s infinite alternate;\n}\n\n@keyframes marche-gauche {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(-10deg); }\n}\n\n@keyframes marche-droite {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(10deg); }\n}\n</style>\n","import { render } from \"./SkeletonLoader.vue?vue&type=template&id=27b73250&scoped=true\"\nimport script from \"./SkeletonLoader.vue?vue&type=script&lang=js\"\nexport * from \"./SkeletonLoader.vue?vue&type=script&lang=js\"\n\nimport \"./SkeletonLoader.vue?vue&type=style&index=0&id=27b73250&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27b73250\"]])\n\nexport default __exports__","<template>\n    <div class=\"mt-6 w-11/12 mx-auto\">\n        <SkeletonLoader :loading=\"loading\" />\n        <div class=\"flex flex-row\" v-if=\"!loading\">\n            <h1 class=\"text-4xl font-bold mb-6 ml-4\">Films</h1>\n            <div class=\"genre-menu ml-4 mt-4 mb-6 w-90 h-full text-black\" v-if=\"genres.length > 0\">\n                <select class=\"bg-gray-200 opacity-50 rounded-l-full rounded-r-full w-8/12 mt-2\" id=\"genreSelect\"\n                    v-model=\"selectedGenre\">\n                    <option v-for=\"(genre, index) in genres\" :key=\"index\" :value=\"genre.id\">{{ genre.name }}</option>\n                </select>\n            </div>\n        </div>\n        <ul class=\"grid grid-cols-1 gap-4\" v-if=\"!loading\">\n            <li v-for=\"(genre, index) in genres\" :key=\"index\" v-show=\"selectedGenre === genre.id\" class=\"mb-8\">\n                <h2 class=\"text-2xl text-gray-700 font-semibold mb-4 ml-8\">{{ genre.name }}</h2>\n                <ul class=\"affichage grid grid-cols-4 gap-2 ml-1 mr-1\" :class=\"{ 'grid-cols-2': isSmallScreen }\">\n                    <li v-for=\"movie in filteredMovies(genre.movies)\" :key=\"movie.id\"\n                        class=\"flex flex-col items-center rounded-lg shadow-lg p-2 hover:bg-gray-500 transition duration-300 ease-in-out relative\">\n                        <img v-if=\"movie.backdrop_path\" :src=\"'https://image.tmdb.org/t/p/w500/' + movie.backdrop_path\"\n                            :alt=\"movie.title\" class=\"movie-poster rounded-lg cursor-pointer\"\n                            @click=\"showModal(movie)\" />\n                        <div v-else class=\"no-backdrop-placeholder\">No Backdrop Image Available</div>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n        <!-- TheModal -->\n        <TheModal :movie=\"selectedMovie\" :isModalOpen=\"isModalOpen\" @close=\"closeModal\" v-if=\"!loading\" />\n    </div>\n</template>\n\n<script>\nimport TheModal from '../components/TheModal.vue';\nimport SkeletonLoader from '../components/SkeletonLoader.vue';\n\nexport default {\n    components: {\n        TheModal,\n        SkeletonLoader\n    },\n    data() {\n        return {\n            genres: [],\n            selectedGenre: null,\n            isModalOpen: false,\n            selectedMovie: null,\n            isSmallScreen: false,\n            loading: true,\n        };\n    },\n    async mounted() {\n        await this.fetchGenres();\n        this.checkScreenSize();\n        window.addEventListener('resize', this.checkScreenSize);\n    },\n    beforeUnmount() {\n        window.removeEventListener('resize', this.checkScreenSize);\n    },\n    methods: {\n        async fetchGenres() {\n            try {\n                const apiKey = process.env.VUE_APP_API_KEY;\n                const genresResponse = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=fr`);\n                const genresData = await genresResponse.json();\n\n                if (genresData.genres && genresData.genres.length > 0) {\n                    const genrePromises = genresData.genres.map(async genre => {\n                        const genreMovies = [];\n                        for (let page = 1; page <= 30; page++) {\n                            const moviesResponse = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=fr&with_genres=${genre.id}&page=${page}`);\n                            const moviesData = await moviesResponse.json();\n                            if (!moviesData.results || moviesData.results.length === 0) break;\n                            const filteredMovies = moviesData.results.filter(movie => movie.backdrop_path !== null);\n                            genreMovies.push(...filteredMovies);\n                        }\n                        return {\n                            id: genre.id,\n                            name: genre.name,\n                            movies: genreMovies\n                        };\n                    });\n                    this.genres = await Promise.all(genrePromises);\n                    if (this.genres.length > 0) {\n                        this.selectedGenre = this.genres[0].id;\n                    }\n                    this.loading = false;\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des genres et des films associés :', error);\n            }\n        },\n        showModal(movie) {\n            this.selectedMovie = movie;\n            this.isModalOpen = true;\n        },\n        closeModal() {\n            this.selectedMovie = null;\n            this.isModalOpen = false;\n        },\n        filteredMovies(movies) {\n            return movies.filter(movie => movie.backdrop_path !== null);\n        },\n        checkScreenSize() {\n            this.isSmallScreen = window.innerWidth <= 763;\n        },\n    }\n};\n</script>\n\n<style>\n@media (max-width: 763px) {\n  .affichage {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n</style>\n","import { render } from \"./FilmsAffichage.vue?vue&type=template&id=2ed454d6\"\nimport script from \"./FilmsAffichage.vue?vue&type=script&lang=js\"\nexport * from \"./FilmsAffichage.vue?vue&type=script&lang=js\"\n\nimport \"./FilmsAffichage.vue?vue&type=style&index=0&id=2ed454d6&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","class","_createStaticVNode","_hoisted_2","$props","loading","_createElementBlock","_hoisted_1","_hoisted_4","_createCommentVNode","name","props","type","Boolean","required","__exports__","render","_createElementVNode","_createVNode","_component_SkeletonLoader","$data","_hoisted_3","genres","length","id","_cache","$event","selectedGenre","_Fragment","_renderList","genre","index","value","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_normalizeClass","isSmallScreen","$options","filteredMovies","movies","movie","backdrop_path","src","alt","title","onClick","showModal","_hoisted_8","_hoisted_9","_createBlock","_component_TheModal","selectedMovie","isModalOpen","onClose","closeModal","components","TheModal","SkeletonLoader","data","mounted","this","fetchGenres","checkScreenSize","window","addEventListener","beforeUnmount","removeEventListener","methods","apiKey","process","genresResponse","fetch","genresData","json","genrePromises","map","async","genreMovies","page","moviesResponse","moviesData","results","filter","push","Promise","all","error","console","innerWidth"],"sourceRoot":""}