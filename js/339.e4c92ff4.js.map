{"version":3,"file":"js/339.e4c92ff4.js","mappings":"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","sources":["webpack://clone-streaming/./src/components/SkeletonLoader.vue","webpack://clone-streaming/./src/components/SkeletonLoader.vue?1835","webpack://clone-streaming/./src/views/SeriesAffichage.vue","webpack://clone-streaming/./src/views/SeriesAffichage.vue?9299"],"sourcesContent":["<template>\n  <div v-if=\"loading\" class=\"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-gray-800 bg-opacity-90 flex flex-col z-50\">\n    <div class=\"w-32 h-32 relative center\">\n      <div class=\"personnage\">\n        <div class=\"corps\"></div>\n        <div class=\"jambe jambe-gauche\"></div>\n        <div class=\"jambe jambe-droite\"></div>\n      </div>\n    </div>\n    <!-- Ajoutez du texte pour indiquer que le chargement est en cours -->\n    <p class=\"text-gray-600 text-lg mt-4\">Chargement en cours...</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SkeletonLoader',\n  props: {\n    loading: {\n      type: Boolean,\n      required: true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.personnage {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.corps {\n  width: 20px;\n  height: 30px;\n  background-color: #000;\n  border-radius: 10px 10px 0 0;\n}\n\n.jambe {\n  width: 6px;\n  height: 20px;\n  background-color: #000;\n  position: absolute;\n  bottom: 0;\n}\n\n.jambe-gauche {\n  left: -8px;\n  transform-origin: bottom;\n  animation: marche-gauche 0.5s infinite alternate;\n}\n\n.jambe-droite {\n  right: -8px;\n  transform-origin: bottom;\n  animation: marche-droite 0.5s infinite alternate;\n}\n\n@keyframes marche-gauche {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(-10deg); }\n}\n\n@keyframes marche-droite {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(10deg); }\n}\n</style>\n","import { render } from \"./SkeletonLoader.vue?vue&type=template&id=27b73250&scoped=true\"\nimport script from \"./SkeletonLoader.vue?vue&type=script&lang=js\"\nexport * from \"./SkeletonLoader.vue?vue&type=script&lang=js\"\n\nimport \"./SkeletonLoader.vue?vue&type=style&index=0&id=27b73250&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27b73250\"]])\n\nexport default __exports__","<template>\n  <div class=\"mt-6 w-11/12 mx-auto\">\n    <SkeletonLoader :loading=\"loading\" />\n    <div class=\"flex flex-row\" v-if=\"!loading\">\n      <h1 class=\"text-4xl font-bold mb-6 ml-4\">Séries</h1>\n      <div class=\"genre-menu ml-4 mt-4 mb-6 w-90 h-full text-black\" v-if=\"genres.length > 0\">\n        <select class=\"bg-gray-200 opacity-50 rounded-l-full rounded-r-full w-8/12 mt-2\" id=\"genreSelect\" v-model=\"selectedGenre\">\n          <option v-for=\"(genre, index) in genres\" :key=\"index\" :value=\"genre.id\">{{ genre.name }}</option>\n        </select>\n      </div>\n    </div>\n    <ul class=\"grid grid-cols-1 gap-4\" v-if=\"!loading\">\n      <li v-for=\"(genre, index) in genres\" :key=\"index\" v-show=\"selectedGenre === genre.id\" class=\"mb-8\">\n        <h2 class=\"text-2xl text-gray-900 font-semibold mb-4 ml-8 text-gray-700\">{{ genre.name }}</h2>\n        <ul class=\"affichage grid grid-cols-4 gap-2 ml-1 mr-1\" :class=\"{ 'grid-cols-2': isSmallScreen }\">\n          <li v-for=\"series in filteredSeries(genre.series)\" :key=\"series.id\" class=\"flex flex-col items-center rounded-lg shadow-lg p-2 hover:bg-gray-500 transition duration-300 ease-in-out relative\">\n            <img :src=\"'https://image.tmdb.org/t/p/w500/' + series.backdrop_path\" :alt=\"series.name\" class=\"series-poster rounded-lg cursor-pointer\" @click=\"showSeriesDetails(series)\" />\n          </li>\n        </ul>\n      </li>\n    </ul>\n\n    <!-- TheModal -->\n    <div v-if=\"selectedSeries\" class=\"modal-overlay\" @click=\"closeModal\">\n      <div class=\"modal-content\" @click.stop>\n        <TheModal :series=\"selectedSeries\" :isModalOpen=\"isModalOpen\" @close=\"closeModal\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TheModal from '../components/TheModal.vue';\nimport SkeletonLoader from '../components/SkeletonLoader.vue';\n\nexport default {\n  components: {\n    TheModal,\n    SkeletonLoader,\n  },\n  data() {\n    return {\n      genres: [],\n      selectedGenre: null,\n      selectedSeries: null,\n      isModalOpen: false,\n      isSmallScreen: false,\n      loading: true,\n    };\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.checkScreenSize);\n  },\n  async mounted() {\n    await this.fetchGenres();\n    this.checkScreenSize();\n    window.addEventListener('resize', this.checkScreenSize);\n  },\n  methods: {\n    async fetchGenres() {\n      try {\n        const apiKey = process.env.VUE_APP_API_KEY;\n        const response = await fetch(`https://api.themoviedb.org/3/genre/tv/list?api_key=${apiKey}&language=fr`);\n        const data = await response.json();\n\n        if (data.genres && data.genres.length > 0) {\n          const genrePromises = data.genres.map(async genre => {\n            const seriesResponse = await this.fetchSeriesForGenre(genre.id, apiKey);\n            return {\n              id: genre.id,\n              name: genre.name,\n              series: seriesResponse\n            };\n          });\n          this.genres = await Promise.all(genrePromises);\n          if (this.genres.length > 0) {\n            this.selectedGenre = this.genres[0].id;\n          }\n          this.loading = false;\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération des genres et des séries associées :', error);\n      }\n    },\n    async fetchSeriesForGenre(genreId, apiKey) {\n      const seriesData = [];\n      for (let page = 1; page <= 40; page++) {\n        const seriesResponse = await fetch(`https://api.themoviedb.org/3/discover/tv?api_key=${apiKey}&language=fr&with_genres=${genreId}&page=${page}`);\n        const seriesDataPage = await seriesResponse.json();\n        if (!seriesDataPage.results || seriesDataPage.results.length === 0) break;\n        const filteredSeries = seriesDataPage.results.filter(series => series.backdrop_path);\n        seriesData.push(...filteredSeries);\n      }\n      return seriesData;\n    },\n    showSeriesDetails(series) {\n      this.selectedSeries = series;\n      this.isModalOpen = true;\n    },\n    closeModal() {\n      this.selectedSeries = null;\n      this.isModalOpen = false;\n    },\n    filteredSeries(seriesList) {\n      return seriesList.filter(series => series.backdrop_path);\n    },\n    checkScreenSize() {\n      this.isSmallScreen = window.innerWidth <= 763;\n    },\n  }\n};\n</script>\n\n<style>\n@media (max-width: 763px) {\n  .affichage {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n}\n</style>\n","import { render } from \"./SeriesAffichage.vue?vue&type=template&id=c5d582bc\"\nimport script from \"./SeriesAffichage.vue?vue&type=script&lang=js\"\nexport * from \"./SeriesAffichage.vue?vue&type=script&lang=js\"\n\nimport \"./SeriesAffichage.vue?vue&type=style&index=0&id=c5d582bc&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","class","_createStaticVNode","_hoisted_2","$props","loading","_createElementBlock","_hoisted_1","_hoisted_4","_createCommentVNode","name","props","type","Boolean","required","__exports__","render","_createElementVNode","_createVNode","_component_SkeletonLoader","$data","_hoisted_3","genres","length","id","_cache","$event","selectedGenre","_Fragment","_renderList","genre","index","value","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_normalizeClass","isSmallScreen","$options","filteredSeries","series","src","backdrop_path","alt","onClick","showSeriesDetails","_hoisted_8","selectedSeries","args","closeModal","_withModifiers","_component_TheModal","isModalOpen","onClose","components","TheModal","SkeletonLoader","data","beforeUnmount","window","removeEventListener","this","checkScreenSize","mounted","fetchGenres","addEventListener","methods","apiKey","process","response","fetch","json","genrePromises","map","async","seriesResponse","fetchSeriesForGenre","Promise","all","error","console","genreId","seriesData","page","seriesDataPage","results","filter","push","seriesList","innerWidth"],"sourceRoot":""}