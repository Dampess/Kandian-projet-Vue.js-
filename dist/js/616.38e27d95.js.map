{"version":3,"file":"js/616.38e27d95.js","mappings":"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","sources":["webpack://clone-streaming/./src/views/SeriesAffichage.vue","webpack://clone-streaming/./src/views/SeriesAffichage.vue?9299"],"sourcesContent":["<template>\r\n  <div class=\"mt-6 w-11/12 mx-auto\">\r\n    <SkeletonLoader :loading=\"loading\" />\r\n    <div class=\"flex flex-row\">\r\n      <h1 class=\"text-4xl font-bold mb-6 ml-4\">Séries</h1>\r\n      <div class=\"genre-menu ml-4 mt-4 mb-6 w-90 h-full text-black\">\r\n        <select class=\"bg-gray-200 opacity-50 rounded-l-full rounded-r-full w-8/12 mt-2\" id=\"genreSelect\"\r\n          v-model=\"selectedGenre\">\r\n          <option v-for=\"(genre, index) in genres\" :key=\"index\" :value=\"genre.id\">{{ genre.name }}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <ul class=\"grid grid-cols-1 gap-4\">\r\n      <li v-for=\"(genre, index) in genres\" :key=\"index\" v-show=\"selectedGenre === genre.id\" class=\"mb-8\">\r\n        <h2 class=\"text-2xl text-gray-900 font-semibold mb-4 ml-8 text-gray-900\">{{ genre.name }}</h2>\r\n        <ul class=\"grid grid-cols-4 gap-2 ml-1 mr-1\" :class=\"{ 'grid-cols-2': isSmallScreen }\">\r\n          <li v-for=\"series in filteredSeries(genre.series)\" :key=\"series.id\"\r\n            class=\"flex flex-col items-center rounded-lg shadow-lg p-2 hover:bg-gray-500 transition duration-300 ease-in-out relative\">\r\n            <img :src=\"'https://image.tmdb.org/t/p/w500/' + series.backdrop_path\" :alt=\"series.name\"\r\n              class=\"series-poster rounded-lg cursor-pointer\" @click=\"showSeriesDetails(series)\">\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- TheModal -->\r\n    <div v-if=\"selectedSeries\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <TheModal :series=\"selectedSeries\" :isModalOpen=\"isModalOpen\" @close=\"closeModal\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TheModal from '../components/TheModal.vue';\r\nimport SkeletonLoader from '../components/SkeletonLoader.vue'\r\n\r\nexport default {\r\n  components: {\r\n    TheModal, SkeletonLoader,\r\n  },\r\n  data() {\r\n    return {\r\n      genres: [],\r\n      selectedGenre: null,\r\n      selectedSeries: null,\r\n      isModalOpen: false,\r\n      isSmallScreen: false,\r\n      loading: true,\r\n    };\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('resize', this.checkScreenSize);\r\n  },\r\n  async mounted() {\r\n    this.fetchGenres();\r\n    this.checkScreenSize();\r\n    window.addEventListener('resize', this.checkScreenSize);\r\n  },\r\n  methods: {\r\n    async fetchGenres() {\r\n      try {\r\n        const apiKey = process.env.VUE_APP_API_KEY;\r\n        const response = await fetch(`https://api.themoviedb.org/3/genre/tv/list?api_key=${apiKey}&language=fr`);\r\n        const data = await response.json();\r\n\r\n        if (data.genres && data.genres.length > 0) {\r\n          for (const genre of data.genres) {\r\n            const seriesResponse = await fetch(`https://api.themoviedb.org/3/discover/tv?api_key=${apiKey}&language=fr&with_genres=${genre.id}`);\r\n            const seriesData = await seriesResponse.json();\r\n            this.genres.push({\r\n              id: genre.id,\r\n              name: genre.name,\r\n              series: seriesData.results\r\n            });\r\n          }\r\n          if (this.genres.length > 0) {\r\n            this.selectedGenre = this.genres[0].id;\r\n          }\r\n          this.loading = false;\r\n        }\r\n      } catch (error) {\r\n        console.error('Erreur lors de la récupération des genres et des séries associées :', error);\r\n      }\r\n    },\r\n    showSeriesDetails(series) {\r\n      this.selectedSeries = series;\r\n      this.isModalOpen = true;\r\n    },\r\n    closeModal() {\r\n      this.selectedSeries = null;\r\n      this.isModalOpen = false;\r\n    },\r\n    filteredSeries(seriesList) {\r\n      return seriesList.filter(series => series.backdrop_path);\r\n    },\r\n    checkScreenSize() {\r\n      this.isSmallScreen = window.innerWidth <= 763\r\n    },\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./SeriesAffichage.vue?vue&type=template&id=3c226d61\"\nimport script from \"./SeriesAffichage.vue?vue&type=script&lang=js\"\nexport * from \"./SeriesAffichage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_SkeletonLoader","loading","$data","_hoisted_2","_hoisted_3","_hoisted_4","id","_cache","$event","selectedGenre","_Fragment","_renderList","genres","genre","index","key","value","name","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_normalizeClass","isSmallScreen","$options","filteredSeries","series","src","backdrop_path","alt","onClick","showSeriesDetails","_hoisted_8","selectedSeries","args","closeModal","_withModifiers","_component_TheModal","isModalOpen","onClose","_createCommentVNode","components","TheModal","SkeletonLoader","data","beforeUnmount","window","removeEventListener","this","checkScreenSize","mounted","fetchGenres","addEventListener","methods","apiKey","process","response","fetch","json","length","seriesResponse","seriesData","push","results","error","console","seriesList","filter","innerWidth","__exports__","render"],"sourceRoot":""}